<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentaci√≥n T√©cnica - Prototipos GUI PLD</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f9fafb;
            color: #1f2937;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 40px;
        }

        h1 {
            color: #2563eb;
            border-bottom: 3px solid #2563eb;
            padding-bottom: 15px;
            margin-bottom: 30px;
        }

        h2 {
            color: #1e40af;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #2563eb;
            padding-left: 15px;
        }

        h3 {
            color: #3b82f6;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        code {
            background-color: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }

        pre {
            background-color: #1f2937;
            color: #e5e7eb;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            line-height: 1.4;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        table th {
            background-color: #f3f4f6;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #e5e7eb;
        }

        table td {
            padding: 12px;
            border-bottom: 1px solid #e5e7eb;
        }

        table tr:hover {
            background-color: #f9fafb;
        }

        .example-box {
            background-color: #eff6ff;
            border-left: 4px solid #0ea5e9;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
        }

        .warning-box {
            background-color: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
        }

        .success-box {
            background-color: #dcfce7;
            border-left: 4px solid #10b981;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
        }

        .section {
            margin: 30px 0;
        }

        ul, ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 8px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
        }

        .card h4 {
            color: #2563eb;
            margin-bottom: 10px;
        }

        .feature-list {
            list-style: none;
            margin-left: 0;
        }

        .feature-list li:before {
            content: "‚úì ";
            color: #10b981;
            font-weight: bold;
            margin-right: 8px;
        }

        .field-list {
            list-style: none;
            margin-left: 0;
        }

        .field-list li {
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .field-list li:last-child {
            border-bottom: none;
        }

        .field-name {
            font-weight: 600;
            color: #1f2937;
        }

        .field-type {
            color: #6b7280;
            font-size: 13px;
        }

        .required {
            color: #ef4444;
        }

        .toc {
            background-color: #f3f4f6;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .toc ul {
            margin-left: 20px;
        }

        .toc a {
            color: #2563eb;
            text-decoration: none;
        }

        .toc a:hover {
            text-decoration: underline;
        }

        footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
            text-align: center;
            color: #6b7280;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìö Documentaci√≥n T√©cnica - Prototipos GUI PLD</h1>

        <div class="toc">
            <h3>Tabla de Contenidos</h3>
            <ul>
                <li><a href="#arqui">Arquitectura del Sistema</a></li>
                <li><a href="#modulos">M√≥dulos Implementados</a></li>
                <li><a href="#estructura-datos">Estructura de Datos</a></li>
                <li><a href="#integracion">Integraci√≥n Backend</a></li>
                <li><a href="#validaciones">Sistema de Validaciones</a></li>
                <li><a href="#ejemplo-datos">Datos de Ejemplo</a></li>
                <li><a href="#api-endpoints">Endpoints API Propuestos</a></li>
            </ul>
        </div>

        <section id="arqui" class="section">
            <h2>üèóÔ∏è Arquitectura del Sistema</h2>
            
            <h3>Estructura de Carpetas Propuesta</h3>
            <pre>
proyecto-pld/
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ prototipos/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles.css
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ script.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ       ‚îú‚îÄ‚îÄ images/
‚îÇ       ‚îú‚îÄ‚îÄ fonts/
‚îÇ       ‚îî‚îÄ‚îÄ icons/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usuarios/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ empresas/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clientes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ operaciones/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ reportes/
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îî‚îÄ‚îÄ config/
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îî‚îÄ‚îÄ seeds/
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ API.md
‚îÇ   ‚îú‚îÄ‚îÄ DATABASE.md
‚îÇ   ‚îî‚îÄ‚îÄ REGULACIONES.md
‚îî‚îÄ‚îÄ README.md
            </pre>

            <h3>Stack Tecnol√≥gico Recomendado</h3>
            <table>
                <thead>
                    <tr>
                        <th>Capa</th>
                        <th>Recomendado</th>
                        <th>Alternativa</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Frontend</td>
                        <td>HTML5 + CSS3 + JavaScript Vanilla (Actual)</td>
                        <td>React.js, Vue.js, Angular</td>
                    </tr>
                    <tr>
                        <td>Backend</td>
                        <td>C# / ASP.NET Core</td>
                        <td>Node.js/Express, Python/Flask, Java</td>
                    </tr>
                    <tr>
                        <td>Base de Datos</td>
                        <td>SQL Server 2019+</td>
                        <td>PostgreSQL, MySQL, Oracle</td>
                    </tr>
                    <tr>
                        <td>Autenticaci√≥n</td>
                        <td>JWT + OAuth 2.0</td>
                        <td>Session-based, SAML</td>
                    </tr>
                    <tr>
                        <td>API</td>
                        <td>REST con OpenAPI 3.0</td>
                        <td>GraphQL, SOAP</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="modulos" class="section">
            <h2>üì¶ M√≥dulos Implementados</h2>

            <h3>1Ô∏è‚É£ M√≥dulo: Registro de Usuarios</h3>
            <div class="card">
                <h4>Caracter√≠sticas</h4>
                <ul class="feature-list">
                    <li>CRUD completo de usuarios del sistema</li>
                    <li>Asignaci√≥n de roles y permisos</li>
                    <li>Gesti√≥n de contrase√±as</li>
                    <li>Estado activo/inactivo</li>
                    <li>Auditor√≠a de cambios</li>
                </ul>
            </div>

            <h3>2Ô∏è‚É£ M√≥dulo: Registro de Empresas</h3>
            <div class="card">
                <h4>Caracter√≠sticas</h4>
                <ul class="feature-list">
                    <li>Gesti√≥n de clientes empresariales (PM)</li>
                    <li>Clasificaci√≥n por actividad vulnerable</li>
                    <li>Administraci√≥n de beneficiarios controladores</li>
                    <li>C√°lculo autom√°tico de riesgo</li>
                    <li>Historial de cambios de informaci√≥n</li>
                </ul>
            </div>

            <h3>3Ô∏è‚É£ M√≥dulo: Registro de Clientes</h3>
            <div class="card">
                <h4>Caracter√≠sticas</h4>
                <ul class="feature-list">
                    <li>KYC Universal para todos los clientes</li>
                    <li>KYC Reforzado (DDR) para alto riesgo</li>
                    <li>Gesti√≥n de documentaci√≥n completa</li>
                    <li>Identificaci√≥n de beneficiarios controladores</li>
                    <li>Clasificaci√≥n de riesgo autom√°tica</li>
                </ul>
            </div>
        </section>

        <section id="estructura-datos" class="section">
            <h2>üóÑÔ∏è Estructura de Datos</h2>

            <h3>Tabla: Usuarios</h3>
            <ul class="field-list">
                <li><span class="field-name">id_usuario</span> <span class="field-type">INT, PK</span> <span class="required">*</span></li>
                <li><span class="field-name">nombre</span> <span class="field-type">VARCHAR(255)</span> <span class="required">*</span></li>
                <li><span class="field-name">email</span> <span class="field-type">VARCHAR(255), UNIQUE</span> <span class="required">*</span></li>
                <li><span class="field-name">contrase√±a_hash</span> <span class="field-type">VARCHAR(255)</span> <span class="required">*</span></li>
                <li><span class="field-name">rol</span> <span class="field-type">VARCHAR(50)</span> <span class="required">*</span></li>
                <li><span class="field-name">telefono</span> <span class="field-type">VARCHAR(20)</span></li>
                <li><span class="field-name">activo</span> <span class="field-type">BIT</span> <span class="required">*</span></li>
                <li><span class="field-name">fecha_creacion</span> <span class="field-type">DATETIME</span> <span class="required">*</span></li>
                <li><span class="field-name">fecha_modificacion</span> <span class="field-type">DATETIME</span></li>
            </ul>

            <h3>Tabla: Empresas</h3>
            <ul class="field-list">
                <li><span class="field-name">id_empresa</span> <span class="field-type">INT, PK</span> <span class="required">*</span></li>
                <li><span class="field-name">rfc</span> <span class="field-type">VARCHAR(13), UNIQUE</span> <span class="required">*</span></li>
                <li><span class="field-name">razon_social</span> <span class="field-type">VARCHAR(255)</span> <span class="required">*</span></li>
                <li><span class="field-name">fecha_constitucion</span> <span class="field-type">DATE</span> <span class="required">*</span></li>
                <li><span class="field-name">tipo_actividad_vulnerable</span> <span class="field-type">VARCHAR(50)</span> <span class="required">*</span></li>
                <li><span class="field-name">subtipo_actividad</span> <span class="field-type">VARCHAR(255)</span> <span class="required">*</span></li>
                <li><span class="field-name">clasificacion_riesgo</span> <span class="field-type">VARCHAR(20)</span> <span class="required">*</span></li>
                <li><span class="field-name">es_pep</span> <span class="field-type">BIT</span> <span class="required">*</span></li>
                <li><span class="field-name">email</span> <span class="field-type">VARCHAR(255)</span> <span class="required">*</span></li>
                <li><span class="field-name">telefono</span> <span class="field-type">VARCHAR(20)</span> <span class="required">*</span></li>
                <li><span class="field-name">domicilio</span> <span class="field-type">VARCHAR(500)</span> <span class="required">*</span></li>
                <li><span class="field-name">comprobante_domicilio</span> <span class="field-type">VARCHAR(255)</span></li>
                <li><span class="field-name">estado_kyc</span> <span class="field-type">VARCHAR(20)</span> <span class="required">*</span></li>
                <li><span class="field-name">fecha_creacion</span> <span class="field-type">DATETIME</span> <span class="required">*</span></li>
            </ul>

            <h3>Tabla: Clientes</h3>
            <ul class="field-list">
                <li><span class="field-name">id_cliente</span> <span class="field-type">INT, PK</span> <span class="required">*</span></li>
                <li><span class="field-name">tipo_cliente</span> <span class="field-type">VARCHAR(50)</span> <span class="required">*</span></li>
                <li><span class="field-name">nombre</span> <span class="field-type">VARCHAR(255)</span> <span class="required">*</span></li>
                <li><span class="field-name">rfc_curp</span> <span class="field-type">VARCHAR(18), UNIQUE</span> <span class="required">*</span></li>
                <li><span class="field-name">fecha_nacimiento_constitucion</span> <span class="field-type">DATE</span> <span class="required">*</span></li>
                <li><span class="field-name">nacionalidad</span> <span class="field-type">VARCHAR(50)</span> <span class="required">*</span></li>
                <li><span class="field-name">tipo_relacion</span> <span class="field-type">VARCHAR(50)</span> <span class="required">*</span></li>
                <li><span class="field-name">email</span> <span class="field-type">VARCHAR(255)</span> <span class="required">*</span></li>
                <li><span class="field-name">telefono</span> <span class="field-type">VARCHAR(20)</span> <span class="required">*</span></li>
                <li><span class="field-name">actividad_economica</span> <span class="field-type">TEXT</span> <span class="required">*</span></li>
                <li><span class="field-name">clasificacion_riesgo</span> <span class="field-type">VARCHAR(20)</span> <span class="required">*</span></li>
                <li><span class="field-name">es_pep</span> <span class="field-type">BIT</span> <span class="required">*</span></li>
                <li><span class="field-name">estado_kyc</span> <span class="field-type">VARCHAR(20)</span> <span class="required">*</span></li>
                <li><span class="field-name">ddr_aplica</span> <span class="field-type">BIT</span> <span class="required">*</span></li>
                <li><span class="field-name">fecha_creacion</span> <span class="field-type">DATETIME</span> <span class="required">*</span></li>
                <li><span class="field-name">fecha_ult_actualizacion</span> <span class="field-type">DATETIME</span></li>
            </ul>

            <h3>Tabla: Beneficiarios_Controladores</h3>
            <ul class="field-list">
                <li><span class="field-name">id_beneficiario</span> <span class="field-type">INT, PK</span> <span class="required">*</span></li>
                <li><span class="field-name">id_cliente</span> <span class="field-type">INT, FK</span> <span class="required">*</span></li>
                <li><span class="field-name">nombre</span> <span class="field-type">VARCHAR(255)</span> <span class="required">*</span></li>
                <li><span class="field-name">rfc_curp</span> <span class="field-type">VARCHAR(18)</span> <span class="required">*</span></li>
                <li><span class="field-name">participacion_porcentaje</span> <span class="field-type">DECIMAL(5,2)</span> <span class="required">*</span></li>
                <li><span class="field-name">tipo_control</span> <span class="field-type">VARCHAR(50)</span> <span class="required">*</span></li>
                <li><span class="field-name">nacionalidad</span> <span class="field-type">VARCHAR(50)</span> <span class="required">*</span></li>
            </ul>

            <h3>Tabla: Documentos_KYC</h3>
            <ul class="field-list">
                <li><span class="field-name">id_documento</span> <span class="field-type">INT, PK</span> <span class="required">*</span></li>
                <li><span class="field-name">id_cliente</span> <span class="field-type">INT, FK</span> <span class="required">*</span></li>
                <li><span class="field-name">tipo_documento</span> <span class="field-type">VARCHAR(50)</span> <span class="required">*</span></li>
                <li><span class="field-name">ruta_archivo</span> <span class="field-type">VARCHAR(500)</span> <span class="required">*</span></li>
                <li><span class="field-name">fecha_carga</span> <span class="field-type">DATETIME</span> <span class="required">*</span></li>
                <li><span class="field-name">fecha_expiracion</span> <span class="field-type">DATE</span></li>
                <li><span class="field-name">estado</span> <span class="field-type">VARCHAR(20)</span> <span class="required">*</span></li>
            </ul>
        </section>

        <section id="integracion" class="section">
            <h2>üîó Integraci√≥n Backend</h2>

            <div class="success-box">
                <strong>‚úì Recomendaci√≥n:</strong> Implementar API REST con autenticaci√≥n JWT y base de datos SQL Server para cumplir con los requisitos regulatorios de PLD.
            </div>

            <h3>Ejemplo de Integraci√≥n (JavaScript)</h3>
            <pre>
// Guardar Cliente
async function guardarCliente(cliente) {
    try {
        const response = await fetch('/api/clientes', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${localStorage.getItem('token')}`
            },
            body: JSON.stringify(cliente)
        });

        if (!response.ok) {
            throw new Error(`Error: ${response.status}`);
        }

        const data = await response.json();
        console.log('Cliente creado:', data);
        return data;
    } catch (error) {
        console.error('Error al guardar cliente:', error);
    }
}

// Obtener Clientes con filtros
async function obtenerClientes(filtros = {}) {
    try {
        const queryString = new URLSearchParams(filtros).toString();
        const response = await fetch(`/api/clientes?${queryString}`, {
            headers: {
                'Authorization': `Bearer ${localStorage.getItem('token')}`
            }
        });

        const data = await response.json();
        return data;
    } catch (error) {
        console.error('Error al obtener clientes:', error);
    }
}
            </pre>

            <h3>Configuraci√≥n de CORS</h3>
            <div class="example-box">
                <p><strong>Para el backend en ASP.NET Core:</strong></p>
                <pre>
builder.Services.AddCors(options =>
{
    options.AddPolicy("AllowAll", builder =>
        builder.AllowAnyOrigin()
               .AllowAnyMethod()
               .AllowAnyHeader());
});

app.UseCors("AllowAll");
                </pre>
            </div>
        </section>

        <section id="validaciones" class="section">
            <h2>‚úÖ Sistema de Validaciones</h2>

            <h3>Validaciones en Cliente</h3>
            <ul>
                <li><strong>RFC:</strong> Formato ABC123456XYZ (13 caracteres)</li>
                <li><strong>CURP:</strong> Formato 18 caracteres</li>
                <li><strong>Email:</strong> Formato v√°lido de correo electr√≥nico</li>
                <li><strong>Tel√©fono:</strong> Formato +52 followed by 10 digits</li>
                <li><strong>Participaci√≥n:</strong> 0-100%</li>
                <li><strong>Campos Requeridos:</strong> Validaci√≥n de campos marcados con *</li>
            </ul>

            <h3>Validaciones en Servidor</h3>
            <ul>
                <li><strong>Duplicados:</strong> RFC, CURP, Email √∫nicos</li>
                <li><strong>Integridad Referencial:</strong> FK v√°lidas</li>
                <li><strong>Reglas de Negocio:</strong> Beneficiarios ‚â•25%</li>
                <li><strong>Datos Sensibles:</strong> Encriptaci√≥n de RFC/CURP</li>
                <li><strong>Auditor√≠a:</strong> Registro de todos los cambios</li>
            </ul>

            <h3>Funciones de Validaci√≥n JavaScript</h3>
            <pre>
// Validar RFC
const regexRFC = /^[A-Z√ë&]{3,4}\d{6}[A-Z0-9]{3}$/;

// Validar CURP
const regexCURP = /^[A-Z]{4}\d{6}[HM][A-Z]{5}[A-Z0-9]\d$/;

// Validar Email
const regexEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

// Validar Tel√©fono
const regexTelefono = /^\+52\s?\d{10}$/;
            </pre>
        </section>

        <section id="ejemplo-datos" class="section">
            <h2>üìä Datos de Ejemplo</h2>

            <h3>Usuario de Ejemplo</h3>
            <pre>
{
    "id_usuario": 1,
    "nombre": "Juan Carlos L√≥pez Mart√≠nez",
    "email": "jc.lopez@empresa.com",
    "contrase√±a_hash": "hashed_password_here",
    "rol": "admin",
    "telefono": "+52 5512345678",
    "activo": true,
    "fecha_creacion": "2025-01-15T10:30:00Z"
}
            </pre>

            <h3>Empresa de Ejemplo</h3>
            <pre>
{
    "id_empresa": 1,
    "rfc": "ABC123456XYZ",
    "razon_social": "Casino Royal M√©xico S.A. de C.V.",
    "fecha_constitucion": "2020-05-15",
    "tipo_actividad_vulnerable": "I",
    "subtipo_actividad": "juegos con apuesta",
    "clasificacion_riesgo": "alto",
    "es_pep": false,
    "email": "contacto@casinoroyal.com",
    "telefono": "+52 5555555555",
    "domicilio": "Avenida Paseo de la Reforma 505, Piso 10, 06500 CDMX",
    "estado_kyc": "completo"
}
            </pre>

            <h3>Cliente de Ejemplo</h3>
            <pre>
{
    "id_cliente": 1,
    "tipo_cliente": "pf",
    "nombre": "Roberto Mart√≠nez Gonz√°lez",
    "rfc_curp": "MAGR800515HDFMRB01",
    "fecha_nacimiento_constitucion": "1980-05-15",
    "nacionalidad": "mexico",
    "tipo_relacion": "continua",
    "email": "roberto.martinez@email.com",
    "telefono": "+52 5543210987",
    "actividad_economica": "Empresario independiente en comercio electr√≥nico",
    "clasificacion_riesgo": "medio",
    "es_pep": false,
    "estado_kyc": "completo",
    "ddr_aplica": false,
    "beneficiario_controlador": {
        "nombre": "Mar√≠a Gonz√°lez Torres",
        "rfc_curp": "GOTM900720HDFRLR02",
        "participacion_porcentaje": 100,
        "tipo_control": "propiedad",
        "nacionalidad": "mexico"
    }
}
            </pre>

            <h3>Operaci√≥n de Ejemplo</h3>
            <pre>
{
    "id_operacion": 1,
    "id_cliente": 1,
    "id_empresa": 1,
    "tipo_operacion": "compra_fichas",
    "monto": 40000.00,
    "moneda": "MXN",
    "fecha_operacion": "2025-01-20T14:30:00Z",
    "tipo_identificacion": "Compra de fichas de juego",
    "requiere_aviso": true,
    "raz√≥n_aviso": "Supera umbral de $35,286"
}
            </pre>
        </section>

        <section id="api-endpoints" class="section">
            <h2>üîå Endpoints API Propuestos</h2>

            <h3>Usuarios</h3>
            <table>
                <thead>
                    <tr>
                        <th>M√©todo</th>
                        <th>Endpoint</th>
                        <th>Descripci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>POST</td>
                        <td>/api/usuarios</td>
                        <td>Crear nuevo usuario</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/usuarios</td>
                        <td>Listar usuarios</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/usuarios/{id}</td>
                        <td>Obtener usuario espec√≠fico</td>
                    </tr>
                    <tr>
                        <td>PUT</td>
                        <td>/api/usuarios/{id}</td>
                        <td>Actualizar usuario</td>
                    </tr>
                    <tr>
                        <td>DELETE</td>
                        <td>/api/usuarios/{id}</td>
                        <td>Eliminar usuario</td>
                    </tr>
                </tbody>
            </table>

            <h3>Empresas</h3>
            <table>
                <thead>
                    <tr>
                        <th>M√©todo</th>
                        <th>Endpoint</th>
                        <th>Descripci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>POST</td>
                        <td>/api/empresas</td>
                        <td>Registrar nueva empresa</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/empresas</td>
                        <td>Listar empresas (con filtros)</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/empresas/{rfc}</td>
                        <td>Obtener empresa por RFC</td>
                    </tr>
                    <tr>
                        <td>PUT</td>
                        <td>/api/empresas/{rfc}</td>
                        <td>Actualizar informaci√≥n empresa</td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/api/empresas/{rfc}/beneficiarios</td>
                        <td>Agregar beneficiario controlador</td>
                    </tr>
                </tbody>
            </table>

            <h3>Clientes</h3>
            <table>
                <thead>
                    <tr>
                        <th>M√©todo</th>
                        <th>Endpoint</th>
                        <th>Descripci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>POST</td>
                        <td>/api/clientes</td>
                        <td>Registrar nuevo cliente</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/clientes</td>
                        <td>Listar clientes (con filtros)</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/clientes/{id}</td>
                        <td>Obtener cliente completo (KYC)</td>
                    </tr>
                    <tr>
                        <td>PUT</td>
                        <td>/api/clientes/{id}</td>
                        <td>Actualizar informaci√≥n cliente</td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/api/clientes/{id}/documentos</td>
                        <td>Cargar documentos KYC</td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/api/clientes/{id}/beneficiarios</td>
                        <td>Registrar beneficiario controlador</td>
                    </tr>
                </tbody>
            </table>

            <h3>Operaciones (Extensi√≥n Futura)</h3>
            <table>
                <thead>
                    <tr>
                        <th>M√©todo</th>
                        <th>Endpoint</th>
                        <th>Descripci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>POST</td>
                        <td>/api/operaciones</td>
                        <td>Registrar operaci√≥n</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/operaciones/{id_cliente}</td>
                        <td>Obtener operaciones del cliente</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/operaciones/{id_cliente}/acumulacion</td>
                        <td>Obtener acumulaci√≥n 6 meses</td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/api/operaciones/validar-umbral</td>
                        <td>Validar contra umbral Art. 17</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="section">
            <h2>üìå Notas Importantes</h2>

            <div class="warning-box">
                <h4>‚ö†Ô∏è Seguridad</h4>
                <ul>
                    <li>Todas las contrase√±as deben hashearse (bcrypt, Argon2)</li>
                    <li>Implementar HTTPS obligatorio</li>
                    <li>Encriptar datos sensibles (RFC, CURP, etc.)</li>
                    <li>Validar entrada en servidor</li>
                    <li>Implementar rate limiting</li>
                </ul>
            </div>

            <div class="success-box">
                <h4>‚úì Cumplimiento Normativo</h4>
                <ul>
                    <li>Registrar auditor√≠a de todos los cambios</li>
                    <li>Cumplir con Art. 25 LFPIORPI (conservaci√≥n 5 a√±os)</li>
                    <li>Permitir generaci√≥n de reportes SAT/UIF</li>
                    <li>Implementar c√°lculo de umbrales Art. 17</li>
                </ul>
            </div>

            <div class="example-box">
                <h4>üí° Mejoras Futuras</h4>
                <ul>
                    <li>Integraci√≥n con listas PEP actualizadas</li>
                    <li>Verificaci√≥n de listas OFAC/QeQ</li>
                    <li>M√≥dulo de monitoreo de operaciones</li>
                    <li>Generaci√≥n autom√°tica de avisos</li>
                    <li>Dashboard de m√©tricas y KPIs</li>
                    <li>Soporte multi-idioma</li>
                </ul>
            </div>
        </section>

        <footer>
            <p>Documentaci√≥n T√©cnica - Sistema PLD Actividades Vulnerables | Diciembre 2025</p>
            <p>Basado en LFPIORPI y Reglas de Car√°cter General emitidas por la Secretar√≠a</p>
        </footer>
    </div>
</body>
</html>
